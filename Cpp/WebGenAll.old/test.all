
roles {
	1 user,
	2 admin,
}

type t_nation as uint [0:5];
type t_tz as uint;
type t_usern as string match rx/[\w\d\s]{1,30}/;

class User {
	uint id,
	uint role,
	t_usern username,
	string email [255],
	string password [32],
	t_tz timezone,
	uint lastturntime,
	uint datecreated,
	uint active [0:5],
	uint datebanned,
	string reason [1024],
	t_nation nation,
	uint clicks,
	uint food,
	uint steel,
	uint oil,
	uint exp,
	uint gold,
	uint morale,
	uint rank,
	uint civilians,
	uint airforce,
	uint army,
	uint naval,
	uint spies,
	uint newmessages,
	uint totalmessages,	
}

class UserSignup {
	string activationkey [40],
	t_usern username,
	string email [255],
	t_tz timezone,
	uint datecreated,
	t_nation nation,
}

class Stats {
	uint id,
	uint aerial,
	uint terrestrial,
	uint marine,
	uint covert,
	uint retaliation,
}

class Ranks {
	uint id,
	uint aerial,
	uint terrestrial,
	uint marine,
	uint covert,
	uint retaliation,
}

class Infrastructure {
	uint id,
	uint houses = 500,
	uint hospitals = 0,
	uint laboratories = 0,
	uint farms = 1,
	uint mines = 0,
	uint barracks = 0,
	uint airfields = 0,
	uint navalyards = 0,
	uint housingupgrade = 1,
	uint hospitalupgrade = 1,
	uint laboratoryupgrade = 1,
	uint farmupgrade = 1,
	uint mineupgrade = 1,
	uint barrackupgrade = 1,
	uint airfeildupgrade = 1,
	uint navalupgrade = 1,
}

class DivisionArtillery {
	uint userid = 0 ,
	uint divisionid = 0,
	uint what = 0,
	uint count = 0,
	uint damage = 0,
	uint strength = 0,
}

class Division {
	uint id,
	uint userid = 0,
	bool active = 0,
	t_usern name,
}

class BuyQueue {
	uint id,
	uint userid = 0,
	uint what = 0,
	uint ticks = 0,
	uint quantity = 0,
	uint civilians = 0,
}

class Attack {
	uint id,
	uint time = 0,
	uint attackerid = 0,
	uint defenderid = 0,
	uint ticks = 0,
	uint food = 0,
	uint steel = 0,
	uint oil = 0,
	uint gold = 0,
	uint aerial = 0,
	uint army = 0,
	uint naval = 0,
}

# TODO: int/uint defaults to 0, no need to specify
class Arsenal {
	uint id,
	uint planes,
	uint bombers,
	uint weapons,
	uint tanks,
	uint battleships,
	uint submarines,	
}
